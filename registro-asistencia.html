<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SAEA - Asistencia</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <style>
  
   * { box-sizing: border-box; }

    /* MAIN */
    main {
      margin-left: 240px;
      padding: 80px 2rem 2rem;
      width: calc(100% - 240px);
    }

    section { display: none; }
    section.active { display: block; }

    h2 {
      font-size: 1.7rem;
      font-weight: 600;
      color: #003366;
      margin-bottom: 1rem;
    }

    /* ESTILOS DE TABLA */
    table {
      width: 100%;
      border-collapse: collapse;
      background: rgba(0, 13, 255, 0.38);
      border-radius: 8px;
      overflow: hidden;
    }

    th {
      background: #012be7b7;
      color: rgb(255, 255, 255);
      padding: 0.75rem;
    }

    td {
      padding: 0.75rem;
      border-bottom: 1px solid #ddd;
    }

    tbody tr:hover {
      background: #006cf9;
    }

    .form-group { margin-bottom: 1rem; }
    .btn-primary, .btn-edit, .btn-delete { cursor: pointer; padding: 0.4rem 0.8rem; margin-right: 0.3rem; }
    .btn-primary { background: #008015; color: white; border: none; border-radius: 4px; }
    .btn-edit { background: #00cc1f; color: white; border: none; border-radius: 4px; }
    .btn-delete { background: #cc0000; color: white; border: none; border-radius: 4px; }

    fieldset { margin-bottom: 1rem; }
    .error-message { color: red; font-size: 0.9rem; }
    input, select { width: 100%; padding: 0.4rem; margin-top: 0.2rem; }
  </style>
</head>

<body>

  <!-- NAVBAR SUPERIOR -->
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Inicio</a></li>
      <li><a href="dashboard.html">Dashboard</a></li>
      <li><a href="registro-asistencia.html" class="active">Asistencia</a></li>
      <li><a href="reportes.html">Reportes</a></li>
      <li><a href="alertas.html">Alertas</a></li>
      <li><a href="config-usuarios.html">Usuarios</a></li>
      <li><a href="login.html" class="logout">Salir</a></li>
    </ul>
  </nav>

  <!-- SIDEBAR -->
  <aside class="sidebar" aria-label="Gestión de Asistencia">
    <h3>Asistencia</h3>
    <ul>
      <li><a href="#" data-section="panel" class="active">Panel de Asistencia</a></li>
      <li><a href="#" data-section="registro">Registro Diario</a></li>
      <li><a href="#" data-section="historial">Historial por Curso</a></li>
      <li><a href="#" data-section="reporte">Reporte Individual</a></li>
      <li><a href="#" data-section="ausencias">Ausencias Automáticas</a></li>
    </ul>
  </aside>

  <!-- MAIN -->
  <main role="main">

    <!-- PANEL INICIO -->
    <section id="panel" class="active" aria-labelledby="panel-title">
      <h2 id="panel-title">Panel de Asistencia (Docente)</h2>

      <div class="form-group">
        <label for="curso">Curso:</label>
        <select id="curso" name="curso">
          <option value="">Seleccione un curso</option>
          <option value="1ro-a">1ro A</option>
          <option value="2do-b">2do B</option>
          <option value="3ro-c">3ro C</option>
        </select>
      </div>

      <div class="form-group">
        <label for="materia">Materia:</label>
        <select id="materia" name="materia">
          <option value="">Seleccione una materia</option>
          <option value="matematicas">Matemáticas</option>
          <option value="historia">Historia</option>
          <option value="ciencias">Ciencias</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" name="fecha" />
      </div>

    </section>

    <!-- REGISTRO DIARIO -->
    <section id="registro" aria-labelledby="registro-title">
      <h2 id="registro-title">Registro Diario de Asistencia</h2>

      <div class="form-group search-group">
        <label for="search-alumno">Buscar alumno:</label>
        <input type="search" id="search-alumno" placeholder="Nombre o matrícula" />
      </div>

      <table class="attendance-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Matrícula</th>
            <th>Estado</th>
            <th>Comentario</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Ana Martínez</td>
            <td>2023001</td>
            <td>
              <select name="estado-2023001">
                <option value="presente">Presente</option>
                <option value="ausente">Ausente</option>
                <option value="tarde">Tarde</option>
              </select>
            </td>
            <td><input type="text" name="comentario-2023001" placeholder="Observaciones" /></td>
          </tr>

          <tr>
            <td>Juan Torres</td>
            <td>2023002</td>
            <td>
              <select name="estado-2023002">
                <option value="presente">Presente</option>
                <option value="ausente">Ausente</option>
                <option value="tarde">Tarde</option>
              </select>
            </td>
            <td><input type="text" name="comentario-2023002" placeholder="Observaciones" /></td>
          </tr>
        </tbody>
      </table>

      <button class="btn-primary">Guardar Registro</button>
      <div class="feedback-message" role="alert"></div>
    </section>

    <!-- HISTORIAL -->
    <section id="historial" aria-labelledby="historial-title">
      <h2 id="historial-title">Historial de Asistencia (por curso)</h2>

      <div class="form-group">
        <label for="hist-curso">Curso:</label>
        <select id="hist-curso">
          <option value="">Seleccione un curso</option>
          <option value="1ro-a">1ro A</option>
          <option value="2do-b">2do B</option>
          <option value="3ro-c">3ro C</option>
        </select>
      </div>

      <div class="form-group">
        <label for="fecha-inicio">Fecha inicio:</label>
        <input type="date" id="fecha-inicio"/>
      </div>

      <div class="form-group">
        <label for="fecha-fin">Fecha fin:</label>
        <input type="date" id="fecha-fin"/>
      </div>

      <table>
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Alumno</th>
            <th>Estado</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>2025-11-01</td>
            <td>Ana Martínez</td>
            <td>Presente</td>
          </tr>
          <tr>
            <td>2025-11-01</td>
            <td>Juan Torres</td>
            <td>Ausente</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- REPORTE INDIVIDUAL -->
    <section id="reporte" aria-labelledby="reporte-title">
      <h2 id="reporte-title">Reporte Individual de Alumno</h2>

      <div class="form-group">
        <label for="alumno-reporte">Seleccionar Alumno:</label>
        <select id="alumno-reporte">
          <option value="">Seleccione un alumno</option>
          <option value="2023001">Ana Martínez</option>
          <option value="2023002">Juan Torres</option>
        </select>
      </div>

      <div id="ficha-alumno">
        <p><strong>Matrícula:</strong> 2023001</p>
        <p><strong>Asistencias:</strong> 95%</p>
        <p><strong>Ausencias justificadas:</strong> 2</p>
        <p><strong>Promedio de puntualidad:</strong> 98%</p>
      </div>
    </section>

    <!-- AUSENCIAS AUTOMÁTICAS -->
    <section id="ausencias" aria-labelledby="ausencias-title">
      <h2 id="ausencias-title">Control de Ausencias Automáticas</h2>

      <table>
        <thead>
          <tr>
            <th>Alumno</th>
            <th>Matrícula</th>
            <th>Fecha</th>
            <th>Justificación</th>
          </tr>
        </thead>

        <tbody>
          <tr>
            <td>Ana Martínez</td>
            <td>2023001</td>
            <td>2025-11-01</td>
            <td>No Justificado</td>
          </tr>

          <tr>
            <td>Juan Torres</td>
            <td>2023002</td>
            <td>2025-11-01</td>
            <td>No Justificado</td>
          </tr>
        </tbody>
      </table>

    </section>

  </main>

  <!-- JS: Navegación de secciones + filtro -->
  <script>
    // Cambiar sección en sidebar
    document.querySelectorAll('.sidebar a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const target = link.dataset.section;
        if (!target) return;

        document.querySelectorAll('main section').forEach(sec => sec.classList.remove('active'));
        document.getElementById(target).classList.add('active');

        document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
      });
    });

    // Buscar en tabla
    document.getElementById('search-alumno').addEventListener('input', e => {
      const texto = e.target.value.toLowerCase();

      document.querySelectorAll('#registro tbody tr').forEach(tr => {
        const nombre = tr.children[0].textContent.toLowerCase();
        const matricula = tr.children[1].textContent.toLowerCase();
        tr.style.display = nombre.includes(texto) || matricula.includes(texto) ? '' : 'none';
      });
    });
  </script>

</body>
</html>
